# 块设备驱动

1. 字符设备  
     字符设备指能够像字节流串行顺序依次进行访问的设备，对它的读写是以字节为单位  
     - 逐字节读写的设备
     - 顺序读取  
     - 每个字符设备在/dev目录下对应一个设备文件，linux用户程序通过设备文件（或称设备节点）来使用驱动程序操作字符设备。  
2. **块设备**  
    块设备以数据块的形式存放数据，如NAND Flash以页为单位存储数据，并采用mount方式挂载块设备。  
    - 数据以固定长度进行传输，比如512K  
    - 从设备的任意位置（可跳）读取，但实际上，块设备会读一定长度的内容，而只返回用户要求访问的内容，所以随机访问实际上还是读了全部内容
    - 块设备可以容纳文件系统，所以一般都通过文件系统来访问，而不是/dev设备节点
    - 每个块设备在/dev目录下对应一个设备文件，linux用户程序可以通过设备文件（或称设备节点）来使用驱动程序操作块设备

3. 网络设备  
网络接口没有像字符设备和块设备一样的设备号和/dev设备节点，只有接口名，如eth0,eth1  
通过socket操作，而不是open read write  
## 块设备驱动结构
块设备->block_device_operations  
字符设备->file_operations  

**gendisk**结构体，linux内核中表示块设备的数据结构。用于描述和管理块设备的各种属性和操作  
